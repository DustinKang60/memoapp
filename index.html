<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <meta name="theme-color" content="#0f1117"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="apple-mobile-web-app-title" content="Î©îÎ™®Ïû•"/>
  <meta name="mobile-web-app-capable" content="yes"/>
  <title>Î©îÎ™®Ïû•</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Noto+Serif+KR:wght@400;700&family=Gothic+A1:wght@400;700&family=Jua&family=Cute+Font&display=swap" rel="stylesheet"/>
  <script>
  // Îß§ÎãàÌéòÏä§Ìä∏ ÎèôÏ†Å ÏÉùÏÑ± (base64 ÏïÑÏù¥ÏΩò Ìè¨Ìï®)
  const ICON_URL = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAA1jUlEQVR4nO2de6wlW17XP79Vtfc+r373vbdn7mNeMDMM4AxCQJDBJw6DwsTB4CMaoiD6jyaYGBJj0BCNj8SYGN9ogkoUyQQVESSioAgBQUYUEYa5M8y9M/fe6e7b3eexn1Vr/fxjrVW1qnbtffY53XNv1z37lz69965ar6r6fX/r91qrRFWVLW3pgpJ5vQewpS29nrQFwJYuNG0BsKULTVsAbOlC0xYAW7rQtAXAli40bQGwpQtNWwBs6ULTFgBbutC0BcCWLjRtAbClC01bAGzpQtMWAFu60LQFwJYuNG0BsKULTVsAbOlC0xYAW7rQtAXAli40bQGwpQtNWwBs6ULTFgBbutC0BcCWLjRtAbClC01bAGzpQtMWAFu60LQFwJYuNG0BsKULTVsAbOlCU/56D+C1JAVUHSBo+F/EII+ibQXFoeI7EsDIo5EvThWHIggiIAoiDz9qDW0rihHx4xZ5JPejL3ShZgDPlALqELUY8ccedntsBUQUI4BVMgn9PCIyIuQCqiUGi4g8mjEDmQgZDlyJEfdI7kef6ALNAMrCKj9zOOfnZpYTC182zPhd1wccDLIgX8/TqiLAS7OS/3R/wa/OSq6L8LWXB7zv+gjPZucDg6oiAr92VPAf7i94cb7gXVnO774x5POujgITn73tOOa5VX7i9oyfeDBjp3R8+X7OVz+9z5XR4Fzj7SPJRXk/wNxZ/vnLM37aZjy9l/OxacHxpOS3i+NPPDPiyb3RmUEQpejz4zn/6LbleJjxG4XlzrjgPdbx4cvCh95yAJKfmU19246fvT/je++U/Drw0li56RzvpeSP3BrwVU9fORdwFWVaWv7Zp2f84APLC3NHbi3vzuDLhwXf9s5r3Njfqa7vjUxveBXIhc+P3l/w4yeO5y4P+NKDnCd3MmaDjF8slI88f8x5Jn4BrHP8u8/OeDk3fOn1EW/ZHzLFcDzK+aGX5/zy7SkCuDM0Hxnv3rzkI7cXZJdHfOG1XTTPuIfh3s6IH3h+zKvjxZlVltj2T9+e8ZNTx961EdlAeFAY7mUDfrXY4Yc/ds+XvQCi8Q0PgCjBfunYcpIb3jQwTIG5GMaFovmAn7+7YLw4m/4by92fO355BldGwr5x7OXKzDqOneEehl/87DSU35ybIuN9Ymz5VAlv2s14Zi9jmMGDqWVihBcXlufvhrbPwKnxfvzPwwId5nzxtSFX9jImheX21DIdZPyfuzPUOm/TvMHpgtgAyivzkqkZMBfHPYXDwjKxjkMDxVwpSoXhmZoEgalV7hVw3QhTFcZWKK1yKI7CCkdTe+5RHy4cJwg7GVhVDLAoLfcWOcMFnBRaDeVMpMqrpSXfU24NlCs7OaUq48Jyx8LOwjEvLTuZecOrQRcEAHBSWG6T8/G5w4jwqUnJfOG4A9xYmDNr0pExSuCBVe6UhhdL5flpQblwTCyMp47xOdSIWGVcKocKUxXuFHAys4iDo2mBziyLs+hVLTqxUJAxUeV44TAKrrTcHSuXZgXlRdB/uEAAOFo47lnL/z4sQeGzxyV2XrIoDINFcSYVJaXCKXcXlmJc8MAZXrhfUM4dEyOcHJdM8vPLz4lT7swsH5uVvDyxnIxLKB3HE8vk2FLYMOZziOkHJdwtHM/P4M5xiSksJY77Rcm1SXkh9H94AwFg3fNSlOOFZb4oefGeUlplPikxzlFMhaOx80Gh2NAGzKThr3DKg6llelhw90Q5fLDATi2FlBwdKrM9bwCrA802vxYFZlZ59cTx/+4VPDhZsDgpMAvLTJSjI0dRhrb1jGqQwPHc8qmjkoVaDh8scNOSEiiKguPjWXe7EuwTeeMYj70HQGRaI5Fturl3PJ8zHRt0VmALhxaOgSiTE8Nspoxyh0F9mHUDBHheFhxwMlVmUsJiQXGyQAuHiLB4UGJvDTECJqtGeyrlooChsMrRuOTlOwumh3PmhzOy0oEIk2OLGEnaPss0IMzmjjvzBcUxTF6d4o5nGBGK2ZzpuGA4MD7q3KinVQTaqQURzEPEOR4H6jUA/DRtMQivlMqvLhz3VbEoqv6hqFPUGF5agD44Ya4K8xJXOiyKm+TcH+3yHR8/4e1XdzgYGIa5ITdAEs318PIhJOcUq5Dl8MLYUsyhnI7R6Rw9KdBFgVUlPxnxQ3cy7v/Cba5eHbG3YxjkguaCMSZp1aCqWBH/6SDP4H/OBDOD48WY8nCGO5zgSouWSj4f8jf+7xHf/+qEwf6A0cGAfGgweQaZqT1aIjgUKz4NxKniVPhYmWNPZhxZS3n3BD2asFDQ+ZzPquMP/9eXGA4FBmB2cwajnHxgeNNOzgevDnj/wRBVwfV8NuhtIEzDf6U4/u2k5MdPCl60wkz9A/dTuGKdUkjOp3/xHoefuYezDp0VUFjEKnYxQG7cRN6ec+nGgEsHA/ZGhsEQMmO8xJMEAApOPQjUwGTqeOmjx8hkjE6ncDyHaQGlxeo19KkrZDdh74kho8sZw10hG+aYXDDiJaoLLKQqOPXgKkWY3SsZP3+CWYzRBxM4nKCzBZSKy2+gty4heyXDyzn55QHZviEbDTCDDMkMGKnG7URxTrBOKNXgPjNF709hNoFXj3FHE6QoMYsCt7cHb72FyYEhyH5Ovpdjdgw6zNgbZnzzEzv81ef2OMiGODRcQf9mgv7OAOrzb/7+0ZzvO7QUTrEYUA36vKLqKFSYO2UyX6BHc1yx8ABYBEayB8i+ZWdmcFPLNBOcGnKXYTKHMSS5N4qqB1epggVmM9BpgTuawngCx2N0uoAS7GCPQVmyUwgyK3EDpRADVnBDQQyIGFRK37rLsKI4C1YM5dxhx3OYzODBCRyNcbMFUoLbu8KOU3IH2Vwxc4vkQobFOIfJDJrXstmJUKogFoyzTGYOHRfIeIIejdGjKbqYo86RDXYYGUOGN15MqZiFAwOZClj4nhfGTBYz/t47nyJXQY32kP17CgAXdP6fmy/4J4claj0zOhzRFFAFi1BaWBQltnToyRSZTNDZHF0UiFVMPsQtoJyCzEFGDpODGiHDIKqIMZVXRIFSobDCwjnKGbiZwxxO0aNj9GSMLhaIM5jdEls4yjnoQqAwaOFQcRgxSC6IKBpULVXFAqWF0inlTNGZRY8mcDjGHR8j8wXIEPKSsnDYUhkUlnwumNyhIhgVGISkvzCDOYRSwVlHWQp2oWTjAo4muKMxcnyCFKWfORzYUnADS2YVLS2uEDCKQxCFqwPhIy8WfODyEX/gTZexKmQ9REAv1TcXuPxHxnPuWy+VrYJzSql4MCiUaihUOTqC+bFgJmPcg2P0wSEcH8F4AdaSzwvKz0xg4fVrdV51cs5hHZTOt+f7AHVeVdEZjO8WyLyA4ynu8Ag9OkKOT3CzEhEHD+bMTxyuVLRwUChqnbdNbPAOhT9R30mpymzsmN8rkMLijufwYAzHxzAZB/BaFkdz1BY4q37cwT5wVvEDV9Qq1oJaRZ2jdML8jkXGBW5e+LaPj9HxMTqb4uycolSmhSIYnIhP47AOtQ5nLc76WWohyg+/ckLtt+of9RIA0Zv48bmACjadfNUDQlUR5xiXyhN3F3z+wLEYl8jxMXpyAuMJsrCUdsRzVzM+/HTJyf0FgvMM5dTr+Ul7sW3nvH9weuT4PYMZe5lgT0o4msB4jMym5FawZcbXv93w3GDGYqaIDX7L0qNKnfNtOweqHlSqFIVy9X7BN10v0RnIsUVPTpDxBOZznDMYlA88C8YKKt4ro9aBjZ8etd7E8+qgAaZHlq/bmfO+y5byyGGO5sjJGJnMkGKOncPT+znvGMyZqlfTCKqQOPWzpnU4ZxkofGK8YGodmfQTAr0EAHhpf2L9wxX1xmmlpgQ7wBjl6Ljkm29avujWLnaRYWZzZL5AS1CGIDtIqfypr3oTe66gcAQJDTgaAKiAhTJ3cLOc8ic+/4BFIWgxQGYlurDYMgezi07hK992hQ+/e49iusAYP4O4wPTqHM75HCTUzzhGlem04KuvwO99yy7uxGHmwKTEFQ51GSI7FFPHH3vfDd498mkLGeoZPvw56z1gvkOvGqpzcDTl2969x4EYmDh04tBpibPW119kvOXKDt/yjl2K+ydI5q83OgAq0Frf36T0aeZ9NIChpwAQvJFbRtM0SmjSxDAFEWQhfMWTOXuSYXYuo9lVVC8hehnNryCZMDuc8o7LOU/t55Sl9YCKM4DTSpLGtg3Cwipv3c35vL2cRQFidnByGfQAMQfoYB8pSnas430392AxBwyqNeMT23ZeJUIVEYW58iWXMw4yvFqmQyx74PZBDzByACclT+4p7941uMmCuPhM1TO9OD8LiPVqlVhvLxwA77mSszgqkIVAOULtHuL2QHcQdjDO8luePYDjApfMJBoiYx4EHgjnj6E/HtRLAKAhu1IFdRKkv5J6dFUF4xQzUsxuzpdcBje8hDz5VuTKs+j+U+Q7l9BxyduHc65cyplTYEJIuHrITsFJnSukBqOGYaZMh8IzlzKezhQ3vER2+Slk702w+wQie+jRMe+7ZZgooA51FnFBlVBFgmGhNjA/ilGFXBiL5YsuZ4i16PASsv8EsvsUsvskWhqGjHnPrR1O7ALUorYEZ32bqtiorqkL8tsDt6BkOMx419Ci4xIz2ofRTdh9imzvFjod8r4nRxzs5kCBcVKFhCWAFcKyTFXQOp7RR+onAOLNjozfuvkVEFTZ3zX8xLjk2997ic+7BXOzhz24gRvsMT+cw4OX+e4P3eJjx5aXC2Unq9trqFQuHBdFRbmUGz4uyjQ3fPdX7qK6oNi/gj24imXE4oVX+V1faPgdv/kpfvTjD5DdARLUjMqdGtUJ0hkMdvcyfvKk4F239vnW3zSgnBW4S1ex+zco7YDyM3f581//BDdu7PE/bo8Z7Q28hR4kPQFgVS6D8/bQEMdsqPzs7Ql/8Xc+ySUZM7cZ7uA6dnSV2VHGtd2C7/zQ2/mvnzyEPUMmrrZ/wgCjzfJGSBjqKQA8LUv95m+nyrWdjB+alrxg4L9829v4hvco18wJl8sT3vvklB/8C+/ha770Gb775z9DvpNVvm9xDlEJEWX/sI0Do4pgGYpD9wx/7aUTvuX9T/MP/uA13nmj4FI25+Zgyh//4GV++K9+DT/3qXv8x08dcmk/Q50iWqs7YdTedesUHDh1XB0aPqqGH3hpzPd8yzv5c193wDOXSvYHU547mPKXv/2t/JVv/wr+5k+8yG01HAy8xCcA1QMhuphC+6qgJbtXhvz1Tzzg2Wcu8R+/8928/+1wbd9yLZ/x277A8F/+9m9j7/Ief/cXP8vutV2f8kBoxyVjtQ5j/e8+w6CfkWB1FGr50IsTPrqAA7z/vDodpmYFhigLNTxnSr73rfu8fZhzeG/MtFBuPbUHZPzpH/t1vucVx9XrIxhlZMPMR1MHuffVG78bgwkrRER8FDfPhGMH33FV+M43X4FizmfuzrhykHFw6RK/8PJ9/sAP/Bq38112rwzQUY6MMmSUY4YGcuPTFmLEObRvRCgFBji+9+27fO21A2YnE24fFzxzfYQZ7fKPf+FT/Jn/9BK7V/YxmcMOwpiHAxgKkgsMMp9TYXzOjoqSiXCvcPze6wP+5Zc+yR6O27dPMEa4efMy92cFH/7+X+G/H5ZcPcgpBdQYHx/IDZIJ5IYsN5RGeMtexk++/2muDgbnXlf9elJPAaAUWvKhF8d8dCHsBaWlMRu4wKzqY0JOHXtzx9fvCe/fM+yq8tE7M77vl17hf03gxlN72FGOGQ0wI8/8WZ75aK0JIAjzpYjxaQxGGGTKyaLkvUPlmy7t8M7c8OBozo88/4B//at3mWcD9vYG2OGgYn5GPh1CcgPG/4nx7kyRCDbCFivKBw5yft+1nFvA83cm/MD/vc2PfnrCpb0djPgor+YmgNbAMHxmPthGZkK7gkPIMhhb4a17wh+6NeQrDkYwL/mpTx7yfb98m08XOZf3BesH5P+MVADQTMjznEUGb9kT/ttXP8vV4RYArx0FAHzjC2M+uoB98epOfToaZ95YFgeZKovCcnS8YHF3SnH7BLuwDIYZl/eH2B3PnLIzwAQGyvI8AQBQMWhk1vjIHeOpY3ZSYB9Mmd85QWcll3cGZBk4k8EwIxtkMMqRncCsecjXCQAgtC3iryWTDDVwuFhgxws4njF7dUo+V64OMkqpdgtCM4MMjG9zmCGDDJMbn4KdAEDFl89ymIphWiyQaYEbl5THcw5EGIlQOL9wKN5VyQyaSQKAjIWBt+ybXgOgl6kQNflUXM/wkswAaWDMu0z92hHh8k6Gu7FHOTTYwxl2UWJFMSYwUUaQ9BJ8/rFdv2os5hl5L2vYVKs07BrHzm6GlR3cyKBHC4ppgXXqfekGny+TEVITIDtF9FgcxgrXTI7bMVhjuDwa4sYF5dTnMvlLDu5ToQKRCrjwmzD6uKuWClgVdoH9wRCVDDuwyG5OObOURYmU0YgO6hku3FeDYLwwQDAugqRvrO+p1wBQdV7SS1P9qc+3jgnYMJ3rTo7YEUwFNQK5l8ipJK53kMMzg0jD46TOBQbzO8JZ8SDSUUZ5aQg5yLwEMagRL50zk7SfDq2WtqErHxxDfTqCgMsM5BluVxHjYJEhpavHZqTKAo3tC1S5RsltAMAG20lCXc0zGAnGCC43PqIcwhWZ1kzfsVCgt9RTAGjj2zotLnqGXJyejfp8fGewuzlZ5nPxJffTu/j0z/CwWz1GV2WUeSF/HwNOjfepZQp5hhmBygDNDc4qJqooBp9c57M4KoBpZOIYDEOSPvDqhzMwcIgakAGaOUzhQoKSb5cMyMJsE41qP4FV7cXs1ijXnQGTiV+XIL5CVhq09AE74zwQIfRhvCrlAPeItpZ8vainAKjJM07r9xqSsJ5P8wyjgst85BeJHhmpVIkGCDqi/Z5Za9XLt21wmUHiMIwhc96w9QCRypZAVrNOs20PXo32QnhqKgY1zvv+456exs9wRtKZbEUf8Z6I4IxHpGQmUau8ioMNS4HEX6WGGUaWWuof9RQAUq9PDbRKBfJ+fK9geJ04wzv0DZp7ydeoE1UgqFc7af3w678Y0AIlAxwifuFJlMQCOCNIjCVQqxuRL02i+tQUwzOpTaNBOoeZSk0Ix1KBKsZjo/oGEB05JC1GcKFKlN+K4IJ6KBn4OVPBZH7f02DiqsRNeqMdpNVymD5STwEQKTLg6ZK/QRI4W8zSlm2VxFxSc2tJr2t2UJbYtouMnlWpG1HPl8Yim+RqEqmffsZ246yh0SVpgzJmNOk/jJWa8VO1pz2RxT5E/DJNr9IJivgZxkFMBFEUlWALqAdFaGXd3X6sqacA8BFIEyKcq25/VB/q79QuTANGvURbRZ75vPTX4PkxIj4nBj9bSDIVaTVBeFehimcoo1GJaTTesAG6xi5SqyPgBb6mblgDQkZc61uPuX0N9XJ8SUDVvE/he/CIGQwuLNZUCVvKaxgEYc2FE0Rd5xzWF+opAGpKb/2qWaDLG8QaKb6SolQGr2trbRBXpohEkHlvisakN2hI9LrJ0+2AjoF4UEa7Qg1Zx3Wmkn/TtqNqVNXNQNX4NIikfIyy9J16CQCVIA2DK0VRL+GSB7RSsEd1POjP4tY9xKB3x3YrVyjgtPEOgFq9iOqHVH0lCkqDZWLtlLHajNlgaiM+1yeAryrvvA7fNqrjmNrHuimqWn7FXTToxdXLKtMxVfdF++wD6nsyHLUEXllGm7n87eKpjt1F7XmivfagnYDXLhvbXiVtu46vs2dS74u3WYPr9hy0qp/0npjQdhxr+lcNosfUyxmgokTHr4/VR2IEtykLmw89SjLFLE0bXuB3P+D48orYplaZo8s8UYE0MlbE4hreSZkzjqFekVadQRLvUOURWEWyfD3tftqgcBACaclxkere+2Bkf0HQawD4DGBtsHeanluvh0108LUttvXz0/pf1rnXzQjnpbXthRmhihfImjrRG7UG1MvNB9DSBcqtDfA6UnC5aPMBtVhy6aGqhKyW6vDp6kOql6dqTRswmzL+aZJ/0xfgVV4kjW7V5Pqjwd5W+WIlao9Yq0RsvXE02lhSRcOhSo3oMfUYAHgXaIwDLJ1qqzP+tzuDdG4vtll1rqE6PIRQbK9rbkSZNwBFG6Sb9LfOV9Buu4+Jw6dRTwEQfC1aS8xVjN1mYtEY1Omm8zzkRh/RCDlFt27XPc0YjupbU6J3S+uz0JowSF2mBcSYfVt5uHo8CfQYAJ58nGg9czWkdaUWrXA1PgQt9bdBu2eyGxLXZ30gqmKfG+m81i6oDI7PSdevCfUUAJ66Ir3dZYLu21HuYSR+l8rR1Lub6dPVUW26bzeRws2+W+CtJp1UDVvW/89DEqLZNfpqpvfR8R5zPz0HAKxn4IbkD3N1lT0amGTDToilG0Zfu412cx2Cucsw3aRvWDae14L3PHwZAn3NtuPO1VUyxUN08PhRLwFQBXO9k9r7qqtsF1P/v8SbimZ+NnBxf5s0Mkz64FNuqxtyuErz8PzvVZAqHl3NNLENSarrGmWlEWqtjlUYk3C94bQkdSKgKhdwOkvEcx1d1GNRvxoO8YtgGtScQX3d4E5uTka9pN4BoHHPw8ysHbzqH1Kigqh/yPrqMXzsbp3Q1snwSUPh3Cq/OuL33dSU2TX2G0FFUFMiu4U9LDTeflfHlpJ2w6p46jzSmlwViArM6GpOr9vxG22FIdVGa3onw31CQN/xFLz5it+7tJWO0V720nO+r6h3AEhJo3jURDVJXHt1olqQYgj8xgO4O4bBoN7dLJRuUpPpu1LKqpVhiZStmT0pVdkhrlKjfNmy0VrLeZT03fzURL+XKvqrlVSvI+ERmHGMmoh+8eCNuUuLEtXPkj11GYumGdYrpqx4b/sNhV4DAJzf/qT1RmdZ4d9W57f4lrhbQiUaoTamu3taftBK9T6xsD1gxWRVnfAzGpKu9tg46JD6669WW+MTTdQeJLwxL7kcZ6rvdb20E6mA5IYZThVjrV9g49JS6X2o7aFmZ/2k3gKgeuh4iejtN0nOJWWjmiB+r/vM1fp0jCWs9yTqinNR7XGhn2afFYU1u+nIYxCv46Ka405TsEk8RlK3EdcqsKL/VYZ3VU9qMMWmOwpXFOMR0nWyZ9Q7ANQsT1iuUTNXbdjWnowmKDyXCKaSzrWNsNzXWg8TBImejqu7XJNZzkdL7XRgqgHiU1WY5eMmzihJiviyYpgc9dtFbDT+x5V6B4BIXgo5nKN+Y0aghvRzcT8bqmk9LPGmizNOiws07YL1ZYQWM50jDSNtq3G+E7Fna3vpeOU4kiUAVTax1kZ5XW6rAr3GFA07C0il+nbl7td6echjd9G41cYM0PQYLfe4nGbX/dibqk8acljBdHXF7kulXvLblbvT6C96epq6WKcO3x6EaNgiRZtXJrE9lYYtUU80aVygf0DoKQA8VRKoeiiniUD/pIWwn6apZ4fUftVoWSbOc2kZwRr6q8II8WCaux+qSHI8notUHZWW1K1HVX9LV6Z1HGu0FUqkDKphHE0zOH7RWsVK72nVlxLjC/VaCG0W7iH1FADx6YS3OG5y/zXsaDDK/MvhqgfaKLKyr7gIPzK70pTIadW4WB8SZl/S03XpWANiyey0Vuqn19cedXJvakeAP2nCEKPAl4WFa/t+57rSUo2mFTyrrKlw+/yeSv2U/tBbAARKc1RopQ6nUjL+Zx3ytieww4HfUS09L6kUTz/rdmyLGdp++cqlSF0vVta00grArsvSSFW1CpRE9aS+5upuBAAtgSeMtXKCBWA4Y8jefN2/CESpL2alcEmZvp/MD70FgBdbFVNpM+lMVbsXu5cWN8own/9ELIlotlwunGvowmum+cgvxmnL516XqJiVyFtdTBPiCS29Og18+fNBAVN/VjBeRau0oUTF0iYPd6lfUYz4F+W5U/g5CbhVbtj+Uk8BECg+AO1QCxp2QSKpnKLO1vEv19Y9lttohmi9BG53lzJ48+jqsTUPCPFNLO1T9TUsKTnhq7dlakdNPUNUbWjHdbabS3WktUNObRHZTAV9TKmnAEj00OgP7zBSPbWfejRqY7la4ralY8pA6UNfqfG2F7XEl3S0S0sbFMn5sPFWs3iXqpGGoRKG1w5vGN3LLBsKktRLQyu1vrO31JiXaoFRe8bsC/UUAJvf6IbcXJUi0YqanqPlUDl+BMkY2quCcRVj16pNbOms1DXOLhas1w9o8rurnTOK8baR31PqKQD8IzWuNj5XMbZpIoB6RdjqdteS1q9MXdlMNEqTcQBJ4l0cyyldNWyGM46TuDFwzOevazZthLPBL72WuOWj66Hkj9RbAIB/GJUNAMsoEP9G+VatjdtumomhyQ2Nvu7lmKvLPQpquynTkZ63n86ZJokN1Atl+km9BoCXZnip3DkF+DKNQ1ElOYUh2uGiihFWbVtYlQzxgs4UhiiNa8n+MNuKdDPn+jLrDNZ1y0qNplZAdAREadBfEPQaAI0Z4AwCTl10JcYD4bPFi0v6Mqv7qT0wy4Vqiema3Ww45rY0P/34Oi7vasNLc/8q1Q3bCdTznRH7CgCv+AsGo26lVEsN0EiioHnc2b7bkEyNxlpKx2WAQpq2oCQepeAurRIkWgZo5VlqOYBS/FUASmyXpVGmRnvHOZE4Izb7r2bM1v3w9RzOqY9lVKWXZ89k2IiTsOSgvyjoKQA8tXdI6HKDtN2NqorcPUZLSxctg6nmQs/sDQcpoC2pWVeLe/G31SHXcoOmfTZCDvWoG8Np4Wd5vO3JrcPlGvuvVn5lBrm651MhtH3fTqMtAF5z8g9WqozL5glPqQQTpzDIKJ9/Bf31V/zbFNeoFiI1wBIHSjMeBo0UiC4vUz3TSPV6VVQ7x6xLo1k1BSyNuPqoZEAMUiVlNBlnVSVUUOfg2ZvIFz6LWltdR9fW7fWieL/meGNd7jGk3gIgGmENL9ApJNYh98f+RXCDrJGrH9usJGRHf52jWPv8A/u3VaG1NksCnvC1U8q3x9BZZLmtJhB8EQFvxz4Y+5lRpLo3q+IGGu7/WbaafByppwDwaohRqpe3nfogAqNWKsHS9h9pwY4ez5H0om1Oi0x1Sp2uuO/qdpMx0lSn1rkwG+UAn0/lYysuq+MHS320r6FaXN1P6ikAINVlNxZC6iVXQ4PftLKerumm2ahd0eV19Tcdx8PEDc7SR1d6CEQbJd3Bor/MDz0GQNRBQx5Y44F1RWE1VFL1e+qs2jniYdbvtvf5jKupTpPkbbN6VblNxrrOlx/rdJYNuqRY8XsAtUDbuI/4+y0aXt7dY+otAKDe6tzblcsSt/09Pr2OLJ5z0WnMtq6TTaTxRhJ7BZBPa+Nh+69jL6endDzO1FMAxNekGlBL5XI/tVbt9mvryyvrbGRbLKsJ69o7r8Sv2k/skVUl10WAO20D8e5co+L3WvK1kGonAdOoLwKirrEzRh+ppwDwFNUNjfpNcrxrT/4qoOV07U4Sm/Zdt3u28puWWVlnjZq2XmqvOCeQWShh9Qa8S2N7OHvkcaH+AiDqMc4gRoIrtNoIsAGK6mXWxqA3LsH9iV8Yk7aXPszW4vOurtEYK/D9rh1qa5aIQrOOwlJ/SZY2tmeoRsAt/ZIU1Hit8f5U9ynpLIk+p82Y61fAmJaHzNTXHMs21C5FJGMzMfD4UX8BQP0gXOIJ6mLF6nGVFnPrJnr1CpRF9yPrMBDqRLhlw9PQZsaO+q1fFYDSOmk/STMeD15pqj0w7WS+ylStu2+DN0T3NCxgkeS4iqKZIDu71e7Qp80kMRskNfr7SL0GAAriDGJAWxmJaUbmEu0MgEHgstTrHrdYrNtvdBb+r7x/HZI0rVe1nPBr3I69KUXDsXCk2to9zhTVTNaeFZYl/6p8I6jtj+pgwx5R1FZXd6p3SRCfh4VQ7zPZP+o3AIgSaFkNiTpqZL4oGRWFNA0oGneJ9K60p00EW0PVSNHTYprw1W3SqEubbsUtaP9I0SZxSwoqEZ3mHTXKdy8M2jhW4FxiB/RT/YFeA8BPveIUcfUqreqsKmCqB3qan6bi2ygtYW2qr0Zmb+teqRrTtTNFR+9tW0STcqvX5raOVMMIEjwZVz2hpYBs7lSxRC1r2BA3Q0x2qTiTpHg8qccAIGGWLl1kdULBxlJu3e/aEb6SOvFzit9+7QCqJtbr56saO5uq3owE15t0aa1KRS/cWZp9zKiXAIiaq49GEphx8/opY3bHAlZx3uZ9pAxXG5ynKQu1SR0va2Xrybn29dSafGM4nRTv5NK+Sq3ZoksY1DPVVgV6HUhqY7KairtpncQ0HadWlj6vt+MMklwSF+zGUdyNhtVWEX1Fk5xNEwpPletR6PTYAwQ9BYCXVxokqmBUEh9QlE21/u8lVMtTEZT8bhuh9qQ0nSmbS7rEpk7087rt+I6vqm0BnKuN5DW25boI9lKVBlMnZcJxh4CGd4J1vQUnDqVhzyeu2FXrsXtCvQQAJK4+B5hUv01e/dJFqacmVZ1WWKYNt2FT2SCVk12MF8/VklUqr8ySSuF0eYuSMzBWlWLRsty19bnUrIL3I2t1bzpnnobKld6/rRH8+lFUgVI2TZkocWv61AjA5ICrc/Nbks17EFe4CGn6zdMGXIoEjQ6iNjy0Al2XcK/07iWTJp0OmtNJ6oVte3XSzNgqf6hyXDWDZiICYnCue5efxrFoI1TX0d+M0F4DID7IqPT4aVmWeIUYK8gMcv8IfeGVzk1gV6lDDYUm8HBdt91Zc2ZIj8ViTWZqXkM13jXXvbSYpfN7ci0abJ0qsBZxWI/ZiWDe9CTyxFWw2owfCEvJdGlAb1l16g/1FgBeWrtaDQoPVAMnNYJH6o09EdCX7iAPjtBB3uCYtSzXwXBL0dazjr+yT+r2Nkqw6+izU+lZdzmt2U0FpLT+LZHXr/o3WKYmkybzhSY9Ks0ptIfUWwBAZMIQA2gxaWPdrQjivIpRWkWzDDGt2MFakbvi8MM8+9TWPUs7q8YSm4xCe51QbvUnAHnmZ0Xr/Gtntcvor7dVCTKHnk8A/QaAqjcecbX/e8nnHhxADXmrLsl5X6ZH+TyX0iFaashSmQ2orXRtGlxb189GWz62ZigJtsC6dyc87tRrAFRTchBHMYy0KjDkl0GmyFh+cI/ilabJ6JptQ8sbezbGSdWv1JX5MNROyU7VyNhXo3wyGnUO6fG2iNB3ADRUn245lPhE/CtV9SFVl7NQK0K9ysTelGSlkb5uCGcorYCGt2l2nUvEiwYVSZ1Zbz895tRzAKhflJ0YZktpu5VLU8IyvnAcHsqIbQ6jQ83ROPucr5O0zfM4GdctpG8WbJYXJ2jrjZWq2njTZb0kUhA1PWb/XgPAL+6oDLEVj2GZEST4xmt3abqdSTiw3E77R8oj0jol9Wfllm1J0KpeYrlWun07rbrzypKzyURTe2elWab6FjtNZpMgGCrAavMWVO5hl76/jCqg12MbuK8AiIlwtRNxmWejbhrz/R2aG2SYwWKBHVJv8qQ106aelI5uOxekrErNWRK2SWCq0ezSK5EalZpWr1SoAcRvaQj1BXSypCbtGPye/kmfIqgt4OAAMQasbeE0ZXqpx6iysQH+uFJPARBI8fsCnZoNGk5ah77pKdxggFhXzR6NGT9RYU7rOzKV94iE4zHSutTG6u1DojomcVpJZxSFGswpEhQwkOBDmpVaw42zTHtg/t45Y5AbN+vEwo7r786F6jP79xoAyQsatH5gS+pMqhwo6GCIPPN02NS1BkD1nc34vxpFV0bnKXVWG+FmpWMnOq6aqQ7d/a1dL7CmrDrno8DISruj3b/iVgCjH9RbADQkdpTGgbpchCmzqCuwwWvUVCiaJEojyFPpyKfsGnEarQaAqwz2phXaVbbW4c8yjNrsaKldQb2K5/zPRLBUd6sVBe5zFIyeA0DUb5Db2CI90bPT/YEasYHw/5LqkJbR7t/SUA/O//BXemlItiV33fsbpX2vDfi2mZyUhVs1awu8WV/jtigdtosK7ZeU9416CwBoqv6nb424FD99RGNoq1xN4C27j/xYTmMa73E5RZ3RZBPbrhljhS63su9O+7meabr6X2fb9IF6C4BKzXEm+KPrc21vS/P3aY9LK2BFKeyPesZJGS7dkLe9G13lO18x+nV687qsVJ+GLNEPVvdVuXeTNlbaE919r6uzvHKuLru1AV4PCtKt2hZlSefXhkRrbg3SpIqZl4zM1d6U9vdV5VfReTaTMtoU6htvpXjWvtOZoOVcqCje1xU7X/SF+gsABXA+FK80/dPVeVZKtJTqFU4PJ82WGDJ8dknPs/YSg2N1F8ttpOrYyvXEq8ak9WziG9HGcdLZpt4TsnNNdZ+ovwAI5ONCtciKeeybOic2YZrXmlYuSYzJfOep3zq/VOS0SaE9MwYMbF+T+jpQ5ZBzhEBYjD4lyZYb6rIN79GjHmgrbcDQkrIddLoPf/UoGwG5NW210xlSr1mrM1bdSAkGsKogPV4V30sARArP4HXomCU+3GT2iMbyQ3W9if6+ot7SgvnEYD9739paCN1P6iUAfFRUMWoQpxhXHa1oVd5Nu0zVZlR9N1WFNpC0bW48rdVV7aSzVmcywiopvmH7m5RJQmCVCiTg732Pg2G9BEBKGnw4qzwibT/9SiZY5e3YdBwrAnCRHrWNcV4P0FnKnm5L4I2A/vJ/PwHgNRDjjQAXpuL2s5KWLz7x1S+1p6tNy7Mw7joXqqpu5DHpdr1uTqcBsU0Nqb7iXGc99XaA6NLLdnpFvQRApEG0ATq8GqtsuLNK4XNL7VNcJJ9LW+D0qPgjoHDPjfTbE9RLADhVMvGSx3XG79clnG1GjZVjZ6BaAtdvW69en3rOsZzGuIKAOz294jwxjrRGA0wiOBwZimm/0aNH1EsARLH+JHN0ITAaNo3SJE1huebqc5AysMZ/Zx/dOfTzh9LLH5Fg33Scgl9mVJaO66ZkZCwOU7l5+0Q9BQCA8IEnlH/1KzPK/RHGNd+9kkrDDq0/+b+jTCKtq4DoUtmGbHw49ULjf9IpR1PQLl1LVbcjwKGdNdK4YfLDfwrxNVHtWasu51+WkWOPTvi69+SIGFy6I1+PqJcAyMTvRPBlT8MfuvIq3/cbjuGNKwyGfiGHaWdByvLXOqQfjoc6qT5bZQWE/6L08ynLDp+H7VOCZU2fddg0KbOUqekPSAtYzcS58IYWbZ2XGGPouls+UFWxr7aHJg2giEqAYTsw6NOinQqzwjG7f58PP3nCB567ysIZhj3dHrSXAIiMYDH80S9wXCp/gx/59IiXuYLLcpw03t1I04sdGSH8lrg+VoiPPrKiz7oMb00UrfolLMaXsGImykQVh4TfTQaqgZLK2yYaan+/RoatONq0VGxLfSC21uEG843VCE6luDZHsGrGiLa8w3uxMi14KhvzjW+DD3/RiEKEvHV/+0Q9BYCXWkYM+aXL/P73wm99dsyv3/4Urx6VLEpwaisRrmglJesWDF7lSJmnBZqwR07NKqvL1dMEHRZ4ZEYNAaRYPq4Aq9f2ChEAMXWiPh8put/rAFSMhjSpVqqaw6iPJuOqTtXvAasOiSCZYXc44uaVEe968w5P3zxgLjtkPTV+I/UUAJ7EGA52MiZ6wK3RLm++dR11JU5tI+2gCoZxdntRSAHw2lNn5JdV1yL1yRXjrSGTHFh1aXFrdQFjDHmekeU5KkOsCEMjYLJkRP2j3gIgMmU+GLCjhqIoA9OPyEieaTASo5JTH27IwMa3huRM3txel5LGGJZbSNtZNfZYJ759MVWIYvuPAnRdo2oCoVlCmkclzACiiPEHMiOYAI6eqv4V9RQAiuK8mmAyhgNvCDrngnHadmN2seFpEktWfD9rO5vQqjY+F1J1kzYTsVDNAs0VZzHW4YRwz/sJhZ4CQFC1YBcYY/xMLXkAgFbJWq+T1vKaU9e65PbxpQXypxxrt7WUQhJnAFfi1PU2HaKnAABbzikevAKXnsWwgMzUAaw11J0cF12JnFr/caHXcu1OV6qDKKjJYPIqdn7CIL/+2g3oEVJvAWCwTD/x0+x88YcRMWDU66WbRDMTf3s7Mtx4G3qrTDO4tswVWutcDXqcVputolWSf2V5V2LMHosXfxbzrmdg/3rtM+0R9VJxUwUz2MN97Mc4/PjPoztXkNIizoYMRa02e+36M2EXifidpE78XR9vlo9/qFZ/8Xd8t0Czf03aXz+udrub/MkZyy/9hWza6r0IybHqe6OsQ20Jw32m9z5J8Us/iAz3Xk92eCjq7QygkjNwM+58/3dRyCWuvPO9GHEYGxcFt/TbWK/VThXCSSaPNKxzNpNxTaVVDUWpWcUIkoHKclFIiq+6qDNR4uEKN6LykEWvaoyFCKgRnAqTVz7B7N/8Ba6a22g+epgBvK7UUwAoqMUMB+wcv8Arf/9buf3FH+TyF34Nw+u3kOEQNUFJURPc48tbe1exJG1O/W31p/aIJnZDYNY0ryaqSfFQvae+Rm9sLFgFvhqHQ8WGy7Xxo1k+rdO6O/X59HgLNJrel3YCX3W9IcimDsqC8uhVyo//D/RX/gP785cw73qnf7dYT6mnAIikjC4Zrk8WnPzcv+LVn/kI5WAPqyMsftqOKQ8Wn/tTpTkH374ToPVGlJSnKnauuEcjd9TfoeYsrSOyPkDc0v+XxDcV85nQj4tTkNLk2CXXVsrN6eHTvfxtak9Qfg8iAVGMEXJRBtmCIXP2Zcb+lR3MwQ5gexoC89RLAEQftBghH8LQ5FzZ2We/UHQxRd0UdXH36FbQqoNhIzUZX8LMkOhF2uRJbZ7qGmkr4JQCIRXuIdgW9v1pBOG6GF6TPiU9p1VPovVsBJrgLW2zFghaTTdJgEsEEYcYgxjIciEfGbL8AJMbDDOMSMiT6if1EgCeDKIZJlNyvyoekxlkOPCnNb67KmZudsupStBSqwO6dLb+FUmXGHOldVHV6OqTxvfYtwu/Wn59pMW+7f7qxL5U4UvzhJa9XiGTtQPCXtC4EAQzGOO8QBBFMgUnxJyqvlIvAaBYlAzHEIDB0ICz/uXvxqsXGj0X1U5BwbDTpuRcVhK6Z4R2iab+rh3M3KFTr2m3CQKtvi1TDZ+asdvWhNKEWbud1u/07TJptLcyVBRjbJgNvfHjqzicDDDZsGOc/aB+AsA5MpPh9p5mMYPhSDE5ULqaISttp8lqMeXYRsN1je961bnU8JTUNbPUW3dbXctepFGWlWNKS3e9yLr796YSutWiJKmA0r4XihYl7D+FGewnK+n6Rb0EQPRZ7zz3Zbz0Y/+Cm/vB/y9xRZMuGbZt8gEQrVfPaCIIq44AdcvMKF3fT9GDEzXDe4+iIr8MsrjdY5Lt7IsKSf2k78SjVDl02pNCrEfd3Wmau0A9ZWpaSQHDZKpce+a9fjWEKyAbnNLi40f9BIDxD+PNX/VB/vc//S7y2zN29gSTab1XaGS4VGFO1J96qaM2fqdlaybS+ndbeK/XZ5a+x58+lSAea81VSR2FhqEaLysConE+VkuA3LUVZMrPqxW92EaMlQb7QgXnBGsts0XOk1/5TWFsfVwR3FMAIDnqLFff/Pk898Fv4//9w7/FjWf2GQ6dBwFxGeHqR9K2BTpngM8BxYUuqZSuZoPAnn6Gk7Dlaa3nR29LY/9PUsWlab/EFjspzhTIMlgbWl1cneYNa4ugNuPw5ROe/cZv5uYX/FaccxjpZVJBTwEAiBjUWX7zn/xLjF/5DM//++9nKGCGXqvpa3bi40xOQS3MgDd/9dfyJX/274Baz/w91P8BRB/3LK01FNcECBmf/Kkf5eP/+SMcf/LXcLMJaPk5l+bQoS09RFtZcFi55grI2pT1Hkifg9+hhnX5e1bRJuNttGcGmNEeV55+G8/99m/gHb/7w2QmA3U+GbGn1GsAeIqKtX+kDrxBpq35vEHp8fb3i0XLa+WWz/vbKxgzaGZP9jD7s01vAAB4UhcWwRtBJQZoUuuxZcVWYnvZUF5p7JKUS4914akLe0vlJDFGauemxmOtttIwmLbba3codYudaRxL+6OsuIbqgKudAQqS9TsAFukNA4AmrfZsnFplVdWu85uUTWkVUB7FeNa1u8mYu8pudqLX9AYFwJa2tBn113rZ0pYeAW0BsKULTVsAbOlC0xYAW7rQtAXAli40bQGwpQtNWwBs6ULTFgBbutC0BcCWLjRtAbClC01bAGzpQtMWAFu60LQFwJYuNG0BsKULTVsAbOlC0xYAW7rQtAXAli40bQGwpQtNWwBs6ULTFgBbutC0BcCWLjRtAbClC01bAGzpQtMWAFu60LQFwJYuNG0BsKULTVsAbOlC0/8HAawOj9KMBzsAAAAASUVORK5CYII=";
  const manifest = {
    name:"Î©îÎ™®Ïû•", short_name:"Î©îÎ™®Ïû•",
    description:"ÏûëÏùÄÏï±Í≥µÎ∞© Î©îÎ™®Ïû•",
    start_url:"/", display:"standalone",
    background_color:"#0f1117", theme_color:"#0f1117",
    orientation:"portrait", lang:"ko",
    icons:[
      {src:ICON_URL,sizes:"192x192",type:"image/jpeg",purpose:"any maskable"},
      {src:ICON_URL,sizes:"512x512",type:"image/jpeg",purpose:"any maskable"}
    ]
  };
  const blob = new Blob([JSON.stringify(manifest)],{type:"application/json"});
  const link = document.createElement("link");
  link.rel = "manifest";
  link.href = URL.createObjectURL(blob);
  document.head.appendChild(link);
  // apple touch icon
  const aLink = document.createElement("link");
  aLink.rel = "apple-touch-icon";
  aLink.href = ICON_URL;
  document.head.appendChild(aLink);
  // favicon
  const fLink = document.createElement("link");
  fLink.rel = "icon";
  fLink.href = ICON_URL;
  document.head.appendChild(fLink);
  </script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
    html,body{width:100%;height:100%;overflow:hidden;background:#0f1117;}
    #root{width:100%;height:100%;overflow:hidden;}
    ::-webkit-scrollbar{width:3px}
    ::-webkit-scrollbar-thumb{background:#2d3154;border-radius:2px}
    /* ÌïµÏã¨: 16px ÎØ∏ÎßåÏù¥Î©¥ ÏïàÎìúÎ°úÏù¥ÎìúÍ∞Ä ÏûêÎèôÏ§å ‚Üí ÌÇ§Î≥¥Îìú ÌäïÍπÄ */
    input,textarea,select{-webkit-appearance:none;font-size:16px !important;transform:translateZ(0);}
  </style>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel" data-presets="react">
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// Î©îÎ™®Ïû• PWA ¬∑ ÏûëÏùÄÏï±Í≥µÎ∞©
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const { useState, useRef, useEffect, useCallback } = React;

const STORAGE_KEY  = "memoapp_memos_v2";
const SETTINGS_KEY = "memoapp_settings_v2";
const DEFAULT_CATS = ["Î©îÎ™®","ÏùºÍ∏∞","ÏïÑÏù¥ÎîîÏñ¥","ÏóÖÎ¨¥","ÏïΩÏÜç"];
const CAT_META = {
  "Î©îÎ™®":    {icon:"üìù",color:"#60a5fa"},
  "ÏùºÍ∏∞":    {icon:"üìñ",color:"#f472b6"},
  "ÏïÑÏù¥ÎîîÏñ¥":{icon:"üí°",color:"#fbbf24"},
  "ÏóÖÎ¨¥":    {icon:"üíº",color:"#34d399"},
  "ÏïΩÏÜç":    {icon:"üìÖ",color:"#a78bfa"},
};
const DAYS_KR = ["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"];
const FONTS   = ["Noto Sans KR","Noto Serif KR","Gothic A1","Jua","Cute Font"];
const WMO = {
  0:{icon:"‚òÄÔ∏è",label:"ÎßëÏùå"},1:{icon:"üå§Ô∏è",label:"ÎåÄÏ≤¥Î°ú ÎßëÏùå"},
  2:{icon:"‚õÖ",label:"Íµ¨Î¶ÑÏ°∞Í∏à"},3:{icon:"‚òÅÔ∏è",label:"ÌùêÎ¶º"},
  45:{icon:"üå´Ô∏è",label:"ÏïàÍ∞ú"},48:{icon:"üå´Ô∏è",label:"ÏïàÍ∞ú"},
  51:{icon:"üå¶Ô∏è",label:"Ïù¥Ïä¨ÎπÑ"},53:{icon:"üå¶Ô∏è",label:"Ïù¥Ïä¨ÎπÑ"},
  55:{icon:"üåßÔ∏è",label:"Ïù¥Ïä¨ÎπÑ(Í∞ï)"},
  61:{icon:"üåßÔ∏è",label:"ÎπÑ"},63:{icon:"üåßÔ∏è",label:"ÎπÑ(Ï§ë)"},65:{icon:"üåßÔ∏è",label:"ÎπÑ(Í∞ï)"},
  71:{icon:"üå®Ô∏è",label:"Îàà"},73:{icon:"üå®Ô∏è",label:"Îàà(Ï§ë)"},75:{icon:"‚ùÑÔ∏è",label:"Îàà(Í∞ï)"},
  80:{icon:"üå¶Ô∏è",label:"ÏÜåÎÇòÍ∏∞"},81:{icon:"üåßÔ∏è",label:"ÏÜåÎÇòÍ∏∞(Ï§ë)"},82:{icon:"‚õàÔ∏è",label:"Ìè≠Ïö∞"},
  95:{icon:"‚õàÔ∏è",label:"ÎáåÏö∞"},99:{icon:"‚õàÔ∏è",label:"ÎáåÏö∞+Ïö∞Î∞ï"},
};
const getWMO = c => WMO[c] || {icon:"üå°Ô∏è",label:"Ïïå Ïàò ÏóÜÏùå"};

function fmtDate(d){
  const y=d.getFullYear(),m=String(d.getMonth()+1).padStart(2,"0"),
        dd=String(d.getDate()).padStart(2,"0"),day=DAYS_KR[d.getDay()];
  return `${y}-${m}-${dd} (${day}ÏöîÏùº)`;
}
function sameDay(a,b){
  return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate();
}
function dKey(d){return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`}

// storage helpers
function loadMemos(){
  try{const r=localStorage.getItem(STORAGE_KEY);return r?JSON.parse(r).map(m=>({...m,date:new Date(m.date)})):[]}
  catch{return[]}
}
function saveMemos(ms){localStorage.setItem(STORAGE_KEY,JSON.stringify(ms))}
function loadSettings(){try{const r=localStorage.getItem(SETTINGS_KEY);return r?JSON.parse(r):null}catch{return null}}
function saveSettings(s){localStorage.setItem(SETTINGS_KEY,JSON.stringify(s))}

// ‚îÄ‚îÄ ÎÇ†Ïî® ÌõÖ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function useWeather(){
  const [w,setW]=useState(null);
  const [loading,setLoading]=useState(false);
  const [error,setError]=useState(null);
  const cache=useRef({});

  const fetch_=useCallback(async()=>{
    setLoading(true);setError(null);
    try{
      const pos=await new Promise((res,rej)=>
        navigator.geolocation.getCurrentPosition(res,rej,{timeout:8000})
      );
      const {latitude:lat,longitude:lon}=pos.coords;
      const ck=`${Math.round(lat*10)}_${Math.round(lon*10)}`;
      if(cache.current[ck]&&Date.now()-cache.current[ck].ts<3600000){
        setW(cache.current[ck].data);setLoading(false);return;
      }
      // Ïó≠ÏßÄÏò§ÏΩîÎî©
      let city="";
      try{
        const gr=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json&accept-language=ko`,
          {headers:{"User-Agent":"MemoApp/1.0"}});
        const gd=await gr.json();
        city=gd.address?.city||gd.address?.town||gd.address?.county||gd.address?.state||"";
      }catch{}
      // Open-Meteo
      const url=`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=auto&forecast_days=1`;
      const res=await fetch(url);
      const data=await res.json();
      const code=data.daily.weathercode[0];
      const tmax=Math.round(data.daily.temperature_2m_max[0]);
      const tmin=Math.round(data.daily.temperature_2m_min[0]);
      const info=getWMO(code);
      const result={...info,tmin,tmax,city};
      cache.current[ck]={data:result,ts:Date.now()};
      setW(result);
    }catch(e){
      setError(e.code===1?"ÏúÑÏπò Í∂åÌïúÏù¥ ÌïÑÏöîÌï¥Ïöî":"ÎÇ†Ïî®Î•º Î∂àÎü¨Ïò§ÏßÄ Î™ªÌñàÏñ¥Ïöî");
    }
    setLoading(false);
  },[]);

  return {weather:w,loading,error,fetchWeather:fetch_};
}

// ‚îÄ‚îÄ Ï∫òÎ¶∞Îçî ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function Calendar({memos,onDateClick,c}){
  const [cur,setCur]=useState(new Date());
  const y=cur.getFullYear(),mo=cur.getMonth();
  const first=new Date(y,mo,1).getDay();
  const days=new Date(y,mo+1,0).getDate();
  const cells=[];
  for(let i=0;i<first;i++)cells.push(null);
  for(let d=1;d<=days;d++)cells.push(d);
  const mp={};memos.forEach(m=>{mp[dKey(m.date)]=true});

  return (
    <div style={{background:c.surface,borderRadius:16,padding:"11px 12px",marginBottom:12,border:`1px solid ${c.border}`}}>
      <div style={{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:9}}>
        <button onClick={()=>setCur(new Date(y,mo-1,1))}
          style={{background:"none",border:"none",color:c.muted,fontSize:20,cursor:"pointer",padding:"2px 8px"}}>‚Äπ</button>
        <span style={{color:c.text,fontWeight:700,fontSize:13}}>{y}ÎÖÑ {mo+1}Ïõî</span>
        <button onClick={()=>setCur(new Date(y,mo+1,1))}
          style={{background:"none",border:"none",color:c.muted,fontSize:20,cursor:"pointer",padding:"2px 8px"}}>‚Ä∫</button>
      </div>
      <div style={{display:"grid",gridTemplateColumns:"repeat(7,1fr)",marginBottom:3}}>
        {["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"].map((d,i)=>(
          <div key={d} style={{textAlign:"center",fontSize:10,
            color:i===0?"#ef4444":i===6?"#60a5fa":c.muted,padding:"1px 0"}}>{d}</div>
        ))}
      </div>
      <div style={{display:"grid",gridTemplateColumns:"repeat(7,1fr)",gap:1}}>
        {cells.map((day,i)=>{
          const today=day&&sameDay(new Date(y,mo,day),new Date());
          const has=day&&mp[dKey(new Date(y,mo,day))];
          return(
            <div key={i} onClick={()=>day&&onDateClick(new Date(y,mo,day))}
              style={{textAlign:"center",padding:"2px 0",borderRadius:8,
                cursor:day?"pointer":"default",background:today?"#3b82f6":"transparent"}}>
              {day&&<>
                <div style={{fontSize:12,lineHeight:"1.6",
                  color:today?"#fff":i%7===0?"#ef4444":i%7===6?"#60a5fa":c.text,
                  fontWeight:today?700:400}}>{day}</div>
                <div style={{height:4,display:"flex",justifyContent:"center",alignItems:"center"}}>
                  {has&&<div style={{width:3,height:3,borderRadius:"50%",background:"#f472b6"}}/>}
                </div>
              </>}
            </div>
          );
        })}
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// Î©îÏù∏ Ïï±
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function App(){
  const saved=loadSettings();
  const [isDark,setIsDark]=useState(saved?.isDark??true);
  const [font,setFont]=useState(saved?.font??"Noto Sans KR");
  const [fSize,setFSize]=useState(saved?.fontSize??15);
  const [cats,setCats]=useState(saved?.categories??DEFAULT_CATS);
  const [memos,setMemos]=useState(loadMemos);
  const [screen,setScreen]=useState("main");
  const [showCatPop,setShowCatPop]=useState(false);
  const [selDate,setSelDate]=useState(null);
  const [query,setQuery]=useState("");
  const [editMemo,setEditMemo]=useState(null);
  const [wCat,setWCat]=useState("");
  const [wTitle,setWTitle]=useState("");
  const [wContent,setWContent]=useState("");
  const [wImages,setWImages]=useState([]);
  const [newCat,setNewCat]=useState("");
  const {weather,loading:wLoad,error:wErr,fetchWeather}=useWeather();
  const fileRef=useRef();
  const titleRef=useRef();

  useEffect(()=>{saveSettings({isDark,font,fontSize:fSize,categories:cats})},[isDark,font,fSize,cats]);
  useEffect(()=>{saveMemos(memos)},[memos]);
  // ÎÇ†Ïî®Îäî ÏûêÎèôÌò∏Ï∂ú ÏïàÌï® - Î≤ÑÌäº ÌÅ¥Î¶≠ÏãúÏóêÎßå Ìò∏Ï∂ú (ÏûêÎèôÌò∏Ï∂úÏãú Î¶¨Î†åÎçîÎ°ú ÌÇ§Î≥¥Îìú ÌäïÍπÄ)

  const c={
    bg:isDark?"#0f1117":"#f4f7ff",
    surface:isDark?"#1a1d2e":"#ffffff",
    surface2:isDark?"#252840":"#eef1fb",
    border:isDark?"#2d3154":"#dde3f5",
    text:isDark?"#e2e8f0":"#1a1a2e",
    muted:isDark?"#64748b":"#8896b3",
    accent:"#3b82f6",danger:"#ef4444",
  };
  const fs={fontFamily:`'${font}',sans-serif`,fontSize:fSize};

  function startWrite(cat,date=null){
    setWCat(cat);setWTitle("");setWContent("");setWImages([]);
    setSelDate(date||new Date());setEditMemo(null);
    setScreen("write");setShowCatPop(false);
  }
  function editM(memo){
    setEditMemo(memo);setWCat(memo.category);setWTitle(memo.title);
    setWContent(memo.content);setWImages(memo.images||[]);
    setSelDate(memo.date);setScreen("write");
  }
  function doSave(){
    if(!wTitle.trim()&&!wContent.trim())return;
    const m={id:editMemo?.id||Date.now(),category:wCat,date:selDate||new Date(),
      title:wTitle||"(Ï†úÎ™© ÏóÜÏùå)",content:wContent,
      weather:wCat==="ÏùºÍ∏∞"?weather:undefined,images:wImages};
    setMemos(p=>editMemo?p.map(x=>x.id===m.id?m:x):[m,...p]);
    setScreen("main");
  }
  function doDelete(id){
    if(!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†Ïñ¥Ïöî?"))return;
    setMemos(p=>p.filter(x=>x.id!==id));setScreen("main");
  }
  function onImg(e){
    Array.from(e.target.files).forEach(f=>{
      const r=new FileReader();
      r.onload=ev=>setWImages(p=>[...p,ev.target.result]);
      r.readAsDataURL(f);
    });
  }
  function doShare(m){
    const txt=`[${m.category}] ${m.title}\n${m.content}\n\n${fmtDate(m.date)}\n\n- ÏûëÏùÄÏï±Í≥µÎ∞© Î©îÎ™®Ïû•`;
    if(navigator.share)navigator.share({title:m.title,text:txt});
    else{navigator.clipboard?.writeText(txt);alert("ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêêÏñ¥Ïöî!\nÏπ¥Ïπ¥Ïò§ÌÜ°Ïóê Î∂ôÏó¨ÎÑ£Í∏∞ ÌïòÏÑ∏Ïöî.");}
  }

  const filtered=memos
    .filter(m=>!query.trim()||m.title.includes(query)||m.content.includes(query))
    .sort((a,b)=>b.date-a.date);

  // Ìó§Îçî
  const Header=({left,center,right})=>(
    <div style={{background:c.surface,borderBottom:`1px solid ${c.border}`,
      padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",
      position:"sticky",top:0,zIndex:100,
      paddingTop:"max(12px, calc(12px + env(safe-area-inset-top)))"}}>
      <div style={{minWidth:60}}>{left}</div>
      <div style={{fontWeight:700,fontSize:16,color:c.text,...fs}}>{center}</div>
      <div style={{minWidth:60,display:"flex",justifyContent:"flex-end",gap:4}}>{right}</div>
    </div>
  );
  const IBtn=({ch,onClick,active=false})=>(
    <button onClick={onClick} style={{background:"none",border:"none",cursor:"pointer",
      color:active?c.accent:c.muted,fontSize:22,padding:"4px",lineHeight:1}}>{ch}</button>
  );
  const PBtn=({ch,onClick,style={}})=>(
    <button onClick={onClick} style={{background:c.accent,color:"#fff",border:"none",
      borderRadius:10,padding:"9px 18px",cursor:"pointer",fontSize:14,...fs,fontWeight:600,...style}}>{ch}</button>
  );
  const GBtn=({ch,onClick,style={}})=>(
    <button onClick={onClick} style={{background:c.surface2,color:c.text,border:`1px solid ${c.border}`,
      borderRadius:10,padding:"9px 16px",cursor:"pointer",fontSize:14,...fs,...style}}>{ch}</button>
  );

  // ÎÇ†Ïî® Î∞∞ÏßÄ
  const WBadge=()=>{
    if(wLoad)return<div style={{padding:"8px 12px",background:c.surface2,borderRadius:12,
      fontSize:13,color:c.muted,border:`1px solid ${c.border}`,display:"inline-block"}}>üåÄ ÎÇ†Ïî® Î∂àÎü¨Ïò§Îäî Ï§ë...</div>;
    if(wErr)return<button onClick={fetchWeather} style={{padding:"8px 12px",background:c.surface2,
      borderRadius:12,fontSize:12,color:c.muted,border:`1px solid ${c.border}`,cursor:"pointer",...fs}}>
      ‚ö†Ô∏è {wErr} ¬∑ ÌÉ≠ÌïòÏó¨ Îã§ÏãúÏãúÎèÑ</button>;
    if(!weather)return<button onClick={fetchWeather} style={{padding:"9px 14px",background:c.surface2,
      borderRadius:12,fontSize:13,color:c.muted,border:`1px solid ${c.border}`,cursor:"pointer",...fs,
      display:"flex",alignItems:"center",gap:8}}>
      <span style={{fontSize:16}}>üìç</span> ÏúÑÏπòÎ°ú ÎÇ†Ïî® Î∂àÎü¨Ïò§Í∏∞</button>;
    return(
      <div style={{display:"inline-flex",alignItems:"center",gap:10,
        padding:"10px 16px",background:isDark?"rgba(59,130,246,0.12)":"#dbeafe",
        borderRadius:14,border:`1px solid ${isDark?"rgba(59,130,246,0.3)":"#bfdbfe"}`}}>
        <span style={{fontSize:28}}>{weather.icon}</span>
        <div>
          <div style={{fontSize:14,fontWeight:700,color:c.text}}>{weather.label}</div>
          <div style={{fontSize:12,color:c.muted}}>
            {weather.city&&`${weather.city} ¬∑ `}{weather.tmin}¬∞ ~ {weather.tmax}¬∞C
          </div>
        </div>
      </div>
    );
  };

  const Wrap=({children})=>(
    <div style={{...fs,background:c.bg,width:"100%",maxWidth:480,margin:"0 auto",
      color:c.text,display:"flex",flexDirection:"column"}}>
      {children}
      <div style={{textAlign:"center",fontSize:11,color:c.muted,
        padding:"10px 0 calc(10px + env(safe-area-inset-bottom))"}}>ÏûëÏùÄÏï±Í≥µÎ∞©</div>
    </div>
  );

  // ‚îÄ‚îÄ Î©îÏù∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  if(screen==="main"||screen==="search") return(
    <Wrap>
      <Header
        left={<span style={{fontSize:20}}>ü´ô</span>}
        center="Î©îÎ™®Ïû•"
        right={<>
          <IBtn ch="üîç" onClick={()=>setScreen(s=>s==="search"?"main":"search")} active={screen==="search"}/>
          <IBtn ch="‚öôÔ∏è" onClick={()=>setScreen("settings")}/>
        </>}
      />
      {screen==="search"&&(
        <div style={{padding:"10px 16px",background:c.surface,borderBottom:`1px solid ${c.border}`}}>
          <input autoFocus value={query} onChange={e=>setQuery(e.target.value)}
            placeholder="Ï†úÎ™© ÎòêÎäî ÎÇ¥Ïö© Í≤ÄÏÉâ..."
            style={{width:"100%",background:c.surface2,border:`1px solid ${c.border}`,
              borderRadius:10,padding:"10px 14px",color:c.text,...fs,outline:"none"}}/>
        </div>
      )}
      <div style={{flex:1,overflowY:"auto",padding:"12px 14px"}}>
        {screen!=="search"&&<Calendar memos={memos} c={c} onDateClick={d=>{setSelDate(d);setShowCatPop(true)}}/>}
        <div style={{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12}}>
          <button onClick={()=>{setSelDate(null);setShowCatPop(true)}}
            style={{background:c.accent,color:"#fff",border:"none",borderRadius:10,
              padding:"9px 16px",cursor:"pointer",...fs,fontWeight:700,
              fontSize:14,display:"flex",alignItems:"center",gap:6}}>‚úèÔ∏è Î©îÎ™®ÏûëÏÑ±</button>
          <span style={{fontSize:12,color:c.muted}}>{filtered.length}Í∞ú</span>
        </div>
        {filtered.length===0?(
          <div style={{textAlign:"center",color:c.muted,padding:"48px 0"}}>
            <div style={{fontSize:44,marginBottom:12}}>ü´ô</div>
            <div style={{fontSize:14}}>ÏïÑÏßÅ Î©îÎ™®Í∞Ä ÏóÜÏñ¥Ïöî<br/>Ï≤´ Î©îÎ™®Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî!</div>
          </div>
        ):(
          <div style={{display:"flex",flexDirection:"column",overflow:"hidden",gap:9}}>
            {filtered.map(m=>{
              const mt=CAT_META[m.category];
              const cl=mt?.color||"#94a3b8";
              return(
                <div key={m.id} onClick={()=>editM(m)}
                  style={{background:c.surface,border:`1px solid ${c.border}`,borderRadius:14,
                    padding:"12px 13px",cursor:"pointer",borderLeft:`4px solid ${cl}`}}>
                  <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:5}}>
                    <div style={{display:"flex",alignItems:"center",gap:6}}>
                      <span style={{fontSize:10,fontWeight:700,color:cl,
                        background:isDark?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.06)",
                        padding:"2px 8px",borderRadius:20}}>{mt?.icon||"üóÇÔ∏è"} {m.category}</span>
                      {m.weather&&<span style={{fontSize:13}}>{m.weather.icon}</span>}
                    </div>
                    <span style={{fontSize:11,color:c.muted}}>
                      {`${m.date.getMonth()+1}/${m.date.getDate()}`}
                    </span>
                  </div>
                  <div style={{fontWeight:600,fontSize:14,marginBottom:3,color:c.text}}>{m.title}</div>
                  <div style={{fontSize:12,color:c.muted,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>
                    {m.content||"(ÎÇ¥Ïö© ÏóÜÏùå)"}
                  </div>
                  {m.images?.length>0&&<div style={{fontSize:11,color:c.muted,marginTop:3}}>üì∑ {m.images.length}Ïû•</div>}
                </div>
              );
            })}
          </div>
        )}
      </div>
      {/* Ïπ¥ÌÖåÍ≥†Î¶¨ ÌåùÏóÖ */}
      {showCatPop&&(
        <div onClick={()=>setShowCatPop(false)}
          style={{position:"fixed",inset:0,background:"rgba(0,0,0,0.65)",zIndex:200,display:"flex",alignItems:"flex-end"}}>
          <div onClick={e=>e.stopPropagation()}
            style={{background:c.surface,borderRadius:"20px 20px 0 0",
              padding:"18px 18px calc(24px + env(safe-area-inset-bottom))",
              width:"100%",maxWidth:480,margin:"0 auto"}}>
            <div style={{width:32,height:4,background:c.border,borderRadius:2,margin:"0 auto 14px"}}/>
            <div style={{textAlign:"center",fontSize:14,fontWeight:700,color:c.text,marginBottom:selDate?8:14}}>
              Ïñ¥Îñ§ Ï¢ÖÎ•òÏùò Î©îÎ™®Ïù∏Í∞ÄÏöî?
            </div>
            {selDate&&<div style={{textAlign:"center",fontSize:12,color:c.muted,marginBottom:14}}>{fmtDate(selDate)}</div>}
            <div style={{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:9}}>
              {cats.map(cat=>{
                const mt=CAT_META[cat];const cl=mt?.color||"#94a3b8";
                return(
                  <button key={cat} onClick={()=>startWrite(cat,selDate)}
                    style={{background:isDark?"rgba(255,255,255,0.05)":c.surface2,
                      border:`1.5px solid ${cl}`,borderRadius:13,padding:"13px 6px",cursor:"pointer",
                      color:c.text,...fs,fontWeight:600,display:"flex",flexDirection:"column",
                      alignItems:"center",gap:5}}>
                    <span style={{fontSize:22}}>{mt?.icon||"üóÇÔ∏è"}</span>
                    <span style={{fontSize:13}}>{cat}</span>
                  </button>
                );
              })}
            </div>
          </div>
        </div>
      )}
    </Wrap>
  );

  // ‚îÄ‚îÄ Î©îÎ™® ÏûëÏÑ± ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  if(screen==="write"){
    const mt=CAT_META[wCat];const cl=mt?.color||"#94a3b8";
    const isDiary=wCat==="ÏùºÍ∏∞";
    // ÌïµÏã¨: Ï†ÑÏ≤¥Î•º ÏùºÎ∞ò Ïä§ÌÅ¨Î°§ ÌéòÏù¥ÏßÄÎ°ú ÎßåÎì§Í≥†
    // ÌïòÎã®Î≤ÑÌäºÏùÄ Ïä§ÌÅ¨Î°§ ÏïàÏóê Ìè¨Ìï® (fixed/sticky ÏôÑÏ†Ñ Ï†úÍ±∞)
    return(
      <div style={{
        ...fs,background:c.bg,color:c.text,
        minHeight:"100%",display:"flex",flexDirection:"column",
        maxWidth:480,margin:"0 auto",
      }}>
        {/* Ìó§Îçî */}
        <div style={{background:c.surface,borderBottom:`1px solid ${c.border}`,
          padding:"12px 16px",display:"flex",alignItems:"center",
          justifyContent:"space-between",flexShrink:0}}>
          <button onClick={()=>setScreen("main")}
            style={{background:"none",border:"none",color:c.accent,
              cursor:"pointer",...fs,fontSize:15,padding:"4px 0",minWidth:60}}>‚Äπ Îí§Î°ú</button>
          <span style={{fontWeight:700,fontSize:15,color:c.text}}>{mt?.icon||"üóÇÔ∏è"} {wCat}</span>
          <div style={{minWidth:60,display:"flex",justifyContent:"flex-end"}}>
            {editMemo&&<IBtn ch="üóëÔ∏è" onClick={()=>doDelete(editMemo.id)}/>}
          </div>
        </div>

        {/* Ïä§ÌÅ¨Î°§ Ïª®ÌÖêÏ∏† - Î≤ÑÌäºÍπåÏßÄ Ï†ÑÎ∂Ä Ìè¨Ìï® */}
        <div style={{flex:1,overflowY:"auto",padding:"16px 16px 0"}}>
          {/* ÎÇ†Ïßú */}
          <div style={{fontSize:13,color:c.muted,marginBottom:10,fontWeight:500}}>
            {fmtDate(selDate||new Date())}
          </div>

          {/* ÏùºÍ∏∞: ÎÇ†Ïî® */}
          {isDiary&&<div style={{marginBottom:16}}><WBadge/></div>}

          {/* Ï†úÎ™© ÏûÖÎ†• */}
          <input
            value={wTitle}
            onChange={e=>setWTitle(e.target.value)}
            placeholder="Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
            style={{
              display:"block",width:"100%",background:"transparent",border:"none",
              borderBottom:`2px solid ${cl}`,padding:"8px 0",
              fontFamily:`'${font}',sans-serif`,fontSize:"18px",
              fontWeight:700,color:c.text,outline:"none",marginBottom:20,
            }}
          />

          {/* ÎÇ¥Ïö© ÏûÖÎ†• */}
          <textarea
            value={wContent}
            onChange={e=>setWContent(e.target.value)}
            placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
            style={{
              display:"block",width:"100%",background:"transparent",border:"none",
              resize:"none",fontFamily:`'${font}',sans-serif`,fontSize:"16px",
              lineHeight:1.9,color:c.text,outline:"none",minHeight:220,
            }}
            rows={10}
          />

          {/* ÏóÖÎ°úÎìú Ïù¥ÎØ∏ÏßÄ */}
          {wImages.length>0&&(
            <div style={{display:"flex",flexWrap:"wrap",gap:8,marginTop:12}}>
              {wImages.map((img,i)=>(
                <div key={i} style={{position:"relative"}}>
                  <img src={img} alt="" style={{width:90,height:90,objectFit:"cover",
                    borderRadius:10,border:`1.5px solid ${c.border}`}}/>
                  <button onClick={()=>setWImages(p=>p.filter((_,j)=>j!==i))}
                    style={{position:"absolute",top:-6,right:-6,background:c.danger,
                      color:"#fff",border:"none",borderRadius:"50%",width:22,height:22,
                      cursor:"pointer",fontSize:14,lineHeight:"22px",textAlign:"center"}}>√ó</button>
                </div>
              ))}
            </div>
          )}

          {/* ÌïòÎã® Î≤ÑÌäº - fixed/sticky ÏôÑÏ†Ñ Ï†úÍ±∞, Ïä§ÌÅ¨Î°§ ÏïàÏóê Ìè¨Ìï® */}
          <div style={{
            marginTop:24,paddingBottom:"calc(24px + env(safe-area-inset-bottom))",
            borderTop:`1px solid ${c.border}`,paddingTop:12,
            display:"flex",gap:8,justifyContent:"flex-end",alignItems:"center",
          }}>
            {editMemo&&(
              <button onClick={()=>doShare(editMemo)}
                style={{background:"#FEE500",color:"#3C1E1E",border:"none",borderRadius:10,
                  padding:"10px 12px",cursor:"pointer",fontFamily:`'${font}',sans-serif`,
                  fontWeight:700,fontSize:14,marginRight:"auto"}}>üí¨ Í≥µÏú†</button>
            )}
            <GBtn ch="Ï∑®ÏÜå" onClick={()=>setScreen("main")}/>
            <GBtn ch="üì∑" onClick={()=>fileRef.current?.click()}/>
            <input ref={fileRef} type="file" accept="image/*" multiple onChange={onImg} style={{display:"none"}}/>
            <PBtn ch="Ï†ÄÏû•" onClick={doSave}/>
          </div>

          {/* Î∏åÎûúÎìú */}
          <div style={{textAlign:"center",fontSize:11,color:c.muted,paddingBottom:16}}>ÏûëÏùÄÏï±Í≥µÎ∞©</div>
        </div>
      </div>
    );
  }

  // ‚îÄ‚îÄ ÏÑ§Ï†ï ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  if(screen==="settings"){
    const Sec=({t})=><div style={{fontSize:11,color:c.muted,fontWeight:700,letterSpacing:1,
      textTransform:"uppercase",marginTop:22,marginBottom:8}}>{t}</div>;
    const Row=({icon,label,right})=>(
      <div style={{background:c.surface,border:`1px solid ${c.border}`,borderRadius:12,
        padding:"13px 14px",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"}}>
        <div style={{display:"flex",alignItems:"center",gap:10}}>
          {icon&&<span style={{fontSize:17}}>{icon}</span>}
          <span style={{fontSize:14,color:c.text}}>{label}</span>
        </div>
        {right}
      </div>
    );
    const Toggle=({val,onChange})=>(
      <button onClick={()=>onChange(!val)}
        style={{background:val?c.accent:c.border,border:"none",borderRadius:20,
          width:46,height:26,cursor:"pointer",position:"relative",transition:"background 0.2s"}}>
        <div style={{width:20,height:20,background:"#fff",borderRadius:"50%",
          position:"absolute",top:3,left:val?23:3,transition:"left 0.2s"}}/>
      </button>
    );
    return(
      <Wrap>
        <Header
          left={<button onClick={()=>setScreen("main")}
            style={{background:"none",border:"none",color:c.accent,cursor:"pointer",...fs,fontSize:14}}>‚Äπ Îí§Î°ú</button>}
          center="ÏÑ§Ï†ï"
          right={null}
        />
        <div style={{flex:1,overflowY:"auto",padding:"4px 14px 40px"}}>
          <Sec t="ÌÖåÎßà"/>
          <Row icon="üåô" label="Îã§ÌÅ¨ Î™®Îìú" right={<Toggle val={isDark} onChange={setIsDark}/>}/>

          <Sec t="Ìè∞Ìä∏"/>
          <Row icon="üî§" label="Ìè∞Ìä∏ Ï¢ÖÎ•ò" right={
            <select value={font} onChange={e=>setFont(e.target.value)}
              style={{background:c.surface2,border:`1px solid ${c.border}`,borderRadius:8,
                padding:"6px 8px",color:c.text,...fs,fontSize:13}}>
              {FONTS.map(f=><option key={f} value={f}>{f}</option>)}
            </select>
          }/>
          <Row icon="üî°" label="Í∏ÄÏî® ÌÅ¨Í∏∞" right={
            <div style={{display:"flex",alignItems:"center",gap:10}}>
              <button onClick={()=>setFSize(s=>Math.max(12,s-1))}
                style={{background:c.surface2,border:`1px solid ${c.border}`,color:c.text,
                  borderRadius:8,padding:"5px 12px",cursor:"pointer",...fs}}>‚àí</button>
              <span style={{color:c.text,minWidth:28,textAlign:"center"}}>{fSize}</span>
              <button onClick={()=>setFSize(s=>Math.min(22,s+1))}
                style={{background:c.surface2,border:`1px solid ${c.border}`,color:c.text,
                  borderRadius:8,padding:"5px 12px",cursor:"pointer",...fs}}>+</button>
            </div>
          }/>

          <Sec t="Î©îÎ™® Ï¢ÖÎ•ò"/>
          <div style={{background:c.surface,border:`1px solid ${c.border}`,borderRadius:12,padding:"12px 13px",marginBottom:8}}>
            {cats.map(cat=>{
              const mt=CAT_META[cat];const cl=mt?.color||"#94a3b8";
              return(
                <div key={cat} style={{display:"flex",justifyContent:"space-between",
                  alignItems:"center",padding:"8px 0",borderBottom:`1px solid ${c.border}`}}>
                  <span style={{color:c.text,fontSize:14,display:"flex",alignItems:"center",gap:8}}>
                    <span style={{width:9,height:9,borderRadius:"50%",background:cl,display:"inline-block"}}/>
                    {mt?.icon||"üóÇÔ∏è"} {cat}
                  </span>
                  {!DEFAULT_CATS.includes(cat)&&(
                    <button onClick={()=>setCats(p=>p.filter(x=>x!==cat))}
                      style={{background:"none",border:"none",color:c.danger,cursor:"pointer",fontSize:18}}>√ó</button>
                  )}
                </div>
              );
            })}
            <div style={{display:"flex",gap:8,marginTop:11}}>
              <input value={newCat} onChange={e=>setNewCat(e.target.value)}
                onKeyDown={e=>{if(e.key==="Enter"&&newCat.trim()&&!cats.includes(newCat.trim())){setCats(p=>[...p,newCat.trim()]);setNewCat("");}}}
                placeholder="ÏÉà Ï¢ÖÎ•ò Ï∂îÍ∞Ä..."
                style={{flex:1,background:c.surface2,border:`1px solid ${c.border}`,
                  borderRadius:8,padding:"8px 10px",color:c.text,...fs,outline:"none"}}/>
              <PBtn ch="Ï∂îÍ∞Ä" onClick={()=>{if(newCat.trim()&&!cats.includes(newCat.trim())){setCats(p=>[...p,newCat.trim()]);setNewCat("");}}} style={{padding:"8px 14px"}}/>
            </div>
          </div>

          <Sec t="Í≥µÏú†"/>
          <div onClick={()=>{
            if(navigator.share)navigator.share({title:"Î©îÎ™®Ïû•",text:"ÏûëÏùÄÏï±Í≥µÎ∞© Î©îÎ™®Ïû•",url:window.location.href});
            else alert("Ïπ¥Ïπ¥Ïò§ÌÜ° Ïï± Ïó∞ÎèôÏùÄ Ïã§Ï†ú Î∞∞Ìè¨ Ïãú ÏÑ§Ï†ïÎê©ÎãàÎã§.\nÌòÑÏû¨Îäî Í∏∞Í∏∞Ïùò Í≥µÏú† Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§.");
          }}
            style={{background:"#FEE500",borderRadius:12,padding:"13px 14px",cursor:"pointer",
              display:"flex",alignItems:"center",gap:10,marginBottom:8}}>
            <span style={{fontSize:20}}>üí¨</span>
            <span style={{color:"#3C1E1E",fontWeight:700,fontSize:14}}>Ïπ¥Ïπ¥Ïò§ÌÜ°ÏúºÎ°ú Í≥µÏú†ÌïòÍ∏∞</span>
          </div>

          <Sec t="Îç∞Ïù¥ÌÑ∞"/>
          <Row icon="üìä" label={`Ï†ÄÏû•Îêú Î©îÎ™®: ${memos.length}Í∞ú`} right={null}/>
          <div onClick={()=>{if(window.confirm("Î™®Îì† Î©îÎ™®Î•º ÏÇ≠Ï†úÌï†ÍπåÏöî? ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏñ¥Ïöî.")){setMemos([]);saveMemos([]);}}}
            style={{background:c.surface,border:`1px solid ${c.danger}`,borderRadius:12,
              padding:"13px 14px",cursor:"pointer",display:"flex",alignItems:"center",gap:10}}>
            <span style={{fontSize:17}}>üóëÔ∏è</span>
            <span style={{color:c.danger,fontSize:14,fontWeight:600}}>Î™®Îì† Î©îÎ™® ÏÇ≠Ï†ú</span>
          </div>
          <div style={{textAlign:"center",marginTop:30,fontSize:12,color:c.muted}}>
            Î©îÎ™®Ïû• v1.0 ¬∑ ÏûëÏùÄÏï±Í≥µÎ∞©
          </div>
        </div>
      </Wrap>
    );
  }
  return null;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);

// Service Worker Îì±Î°ù
if("serviceWorker"in navigator){
  window.addEventListener("load",()=>{
    navigator.serviceWorker.register("/sw.js")
      .then(r=>console.log("SW:",r.scope))
      .catch(e=>console.log("SW Ïò§Î•ò:",e));
  });
}
</script>
</body>
</html>
